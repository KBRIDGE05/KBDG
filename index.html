<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KBridge | 위험물(Dangerous Goods) 가이드 UI</title>
  <meta name="description" content="위험물(DG) 클래스 안내, 라벨, 간단 검색/조회 — IMDG/IATA 참고용 안내 UI" />
  <style>
    :root{
      --bg:#f6f8fc;
      --card:#ffffff;
      --muted:#64748b;
      --text:#0f172a;
      --brand:#2563eb;
      --ring: rgba(37,99,235,.35);
      --ok:#16a34a;--warn:#f59e0b;--bad:#ef4444;
      --c1:#ff8a00; --c2:#3b82f6; --c3:#ef4444; --c4:#fb923c; --c5:#eab308; --c6:#64748b; --c7:#f97316; --c8:#0ea5e9; --c9:#14b8a6;
      --shadow: 0 6px 18px rgba(2,6,23,.08), inset 0 1px 0 rgba(255,255,255,.4);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg); color:var(--text); font: 15px/1.6 system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif}
    a{color:inherit}
    .container{max-width:1200px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.85);backdrop-filter:saturate(180%) blur(8px); border-bottom:1px solid #e2e8f0}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px max(24px, calc((100vw - 1200px)/2 + 24px))}
    .brand{display:flex;align-items:center;gap:8px}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg, #111827, #1f2937);display:grid;place-items:center;box-shadow:var(--shadow)}
    .logo::before{content:"K";font-weight:800;color:#fff;letter-spacing:.4px}
    .brand h1{font-size:18px;margin:0;line-height:1.2;opacity:.92}
    .tag{font-size:12px;opacity:.7;padding:4px 8px;border:1px solid rgba(148,163,184,.25);border-radius:999px}

    /* Hero */
    .hero{display:grid;grid-template-columns:1.15fr .85fr;gap:16px;align-items:stretch;padding:16px 16px 6px}
    @media (max-width: 900px){.hero{grid-template-columns:1fr}}
    .hero-card{background:var(--card); border:1px solid #e5e7eb;border-radius:var(--radius); padding:18px 16px; box-shadow:var(--shadow); display:flex; flex-direction:column; height:100%}
    .hero h2{font-size:26px;line-height:1.3;margin:0 0 10px;letter-spacing:-.01em}
    .hero p{color:var(--muted); margin:0 0 12px; font-size:14px; line-height:1.6}
    .hero .badges{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 14px}
    .hero .hero-list{margin:4px 0 12px 0;color:var(--text);font-size:14px;line-height:1.6;text-align:left;padding-left:18px;list-style:disc}
    .hero .hero-list li{margin:2px 0}
    .badge{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(148,163,184,.2);opacity:.95}
    .note{font-size:12px;color:#6b7280;opacity:.95}

    /* Filter bar */
    .filters{position:sticky;top:68px;z-index:40;margin:18px 0 10px;background:#fff;backdrop-filter: blur(0px); border:1px solid #e5e7eb; border-radius:var(--radius); padding:10px; box-shadow:var(--shadow)}
    .filters .row{display:flex;gap:8px;flex-wrap:nowrap;align-items:center}
    .search{flex:1 1 auto;display:flex;align-items:center;gap:10px;background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:10px 12px;min-width:0}
    .search input{flex:1;background:transparent;border:0;outline:0;color:var(--text);font-size:14px}
    #classChips{flex:0 0 auto !important;display:flex;gap:6px;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;padding-bottom:4px}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:6px 8px;border-radius:999px;border:1px solid rgba(148,163,184,.22);cursor:pointer;user-select:none;font-size:12px}
    .pill svg{width:12px;height:12px}
    .pill[data-active="true"]{box-shadow:0 0 0 3px var(--ring) inset;border-color:transparent}
    .count{margin-left:auto;font-size:13px;color:var(--muted)}

    /* Grid of items */
    .grid{display:grid;grid-template-columns:repeat(3, minmax(0, 1fr));gap:14px}
    @media (max-width: 1100px){.grid{grid-template-columns:repeat(2, minmax(0,1fr))}}
    @media (max-width: 700px){.grid{grid-template-columns:1fr}}
    .card{position:relative;background:var(--card);border:1px solid #e5e7eb; border-radius:14px;padding:14px; box-shadow:var(--shadow)}
    .card:hover{border-color:rgba(148,163,184,.28)}
    .top{display:flex;align-items:flex-start;gap:12px}
    .icon{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;border:1px solid rgba(2,6,23,.06)}
    .icon svg{width:24px;height:24px}
    .meta{flex:1;min-width:0}
    .un{font-weight:800;letter-spacing:.5px}
    .name{font-size:14px;line-height:1.4}
    .eng{font-size:12px;color:var(--muted)}
    .tag-sm{font-size:11px;padding:3px 7px;border-radius:999px;border:1px solid rgba(148,163,184,.25)}
    .detail{margin-top:10px;padding:10px;border-top:1px dashed rgba(148,163,184,.2);display:none}
    .card[open] .detail{display:block}
    .actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .btn{font-size:12px;padding:7px 10px;border-radius:10px;border:1px solid #e2e8f0;background:#fff;cursor:pointer}

    /* Class guide */
    .section h3{font-size:20px;margin:22px 0 12px}
    .classes{display:grid;grid-template-columns:repeat(9, minmax(0,1fr));gap:10px}
    @media (max-width: 1100px){.classes{grid-template-columns:repeat(6, minmax(0,1fr))}}
    @media (max-width: 800px){.classes{grid-template-columns:repeat(3, minmax(0,1fr))}}
    @media (max-width: 520px){.classes{grid-template-columns:repeat(2, minmax(0,1fr))}}
    .class-card{background:var(--card);border:1px solid #e5e7eb;border-radius:14px;padding:12px;box-shadow:var(--shadow);display:grid;gap:8px;cursor:pointer}
    .class-card:hover{border-color:rgba(148,163,184,.3)}
    .diamond{width:38px;height:38px;transform:rotate(45deg);border:2px solid rgba(2,6,23,.85);margin:6px auto 4px;position:relative}
    .diamond .num{position:absolute;left:50%;bottom:-18px;transform:translateX(-50%);font-weight:800;font-size:12px}

    [data-class="1"] .icon{background:linear-gradient(135deg, rgba(255,138,0,.2), rgba(255,138,0,.05))}
    [data-class="2"] .icon{background:linear-gradient(135deg, rgba(59,130,246,.2), rgba(59,130,246,.05))}
    [data-class="3"] .icon{background:linear-gradient(135deg, rgba(239,68,68,.2), rgba(239,68,68,.05))}
    [data-class="4"] .icon{background:linear-gradient(135deg, rgba(251,146,60,.2), rgba(251,146,60,.05))}
    [data-class="5"] .icon{background:linear-gradient(135deg, rgba(234,179,8,.22), rgba(234,179,8,.06))}
    [data-class="6"] .icon{background:linear-gradient(135deg, rgba(100,116,139,.22), rgba(100,116,139,.06))}
    [data-class="7"] .icon{background:linear-gradient(135deg, rgba(249,115,22,.22), rgba(249,115,22,.06))}
    [data-class="8"] .icon{background:linear-gradient(135deg, rgba(14,165,233,.22), rgba(14,165,233,.06))}
    [data-class="9"] .icon{background:linear-gradient(135deg, rgba(20,184,166,.22), rgba(20,184,166,.06))}

    .diamond[data-class="1"]{background:var(--c1)}
    .diamond[data-class="2"]{background:var(--c2)}
    .diamond[data-class="3"]{background:var(--c3)}
    .diamond[data-class="4"]{background:var(--c4)}
    .diamond[data-class="5"]{background:var(--c5)}
    .diamond[data-class="6"]{background:linear-gradient(180deg,#111,#e2e8f0)}
    .diamond[data-class="7"]{background:linear-gradient(180deg,#fde047,#f97316)}
    .diamond[data-class="8"]{background:linear-gradient(180deg,#111,#0ea5e9)}
    .diamond[data-class="9"]{background:repeating-linear-gradient(45deg, #111 0 8px,#fff 8px 16px)}

    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(2,6,23,.7);backdrop-filter:blur(6px)}
    .modal[open]{display:grid}
    .modal .sheet{width:min(880px, 92vw);max-height:86vh;overflow:auto;background:#fff;border:1px solid #e5e7eb;border-radius:18px;padding:18px 18px 14px;box-shadow:var(--shadow)}
    .modal h4{margin:0 0 6px}
    .modal p{color:var(--muted);margin:0 0 12px}
    .close{position:sticky;top:0;right:0;margin-left:auto;display:inline-flex;gap:8px;align-items:center;background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:8px 10px;cursor:pointer}
    .labels{display:grid;grid-template-columns:repeat(4, minmax(0,1fr));gap:12px}
    @media (max-width: 760px){.labels{grid-template-columns:repeat(2, minmax(0,1fr))}}
    .label-card{background:#fff;border:1px dashed #e2e8f0;border-radius:14px;padding:12px;display:grid;gap:6px}
    .big-diamond{width:90px;height:90px;transform:rotate(45deg);border:3px solid rgba(2,6,23,.85);margin:10px auto 8px;position:relative}
    .big-diamond .num{position:absolute;left:50%;bottom:-28px;transform:translateX(-50%);font-weight:800}

    footer{opacity:.85;padding:26px 0 40px;font-size:12px;color:#64748b}
    code.k{background:#f8fafc;border:1px solid #e2e8f0;padding:2px 6px;border-radius:6px}

    /* mobile */
    #classChips{overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;padding-bottom:4px}
    .pill{flex:0 0 auto}
    @media (max-width: 640px){
      .container{padding:14px}
      .nav{padding:10px 14px}
      .brand h1{font-size:14px}
      .tag{display:none}
      .hero{gap:12px;padding:12px 12px 4px}
      .hero-card{padding:14px;height:auto}
      .hero h2{font-size:20px;line-height:1.35;margin:0 0 6px}
      .hero p{font-size:13px;line-height:1.55;margin:0 0 8px}
      .hero .badges{margin:6px 0 10px}
      .hero .hero-list{font-size:13px;line-height:1.55;padding-left:16px;margin:4px 0 8px}
      .filters{top:56px;margin:12px 0 8px;padding:8px}
      .search{padding:10px 10px;min-width:auto;width:100%}
      .search input{font-size:16px}
      .grid{grid-template-columns:1fr;gap:12px}
      .top{gap:10px}
      .icon{width:40px;height:40px}
      .icon svg{width:22px;height:22px}
      .btn{padding:8px 10px}
      .section h3{font-size:18px}
      .classes{grid-template-columns:repeat(2, minmax(0,1fr));gap:8px}
      footer{padding:20px 0 28px}
    }
  </style>
</head>
<body>
  <!-- SVG 아이콘 심볼 (재사용) -->
  <svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden">
    <symbol id="i-explosion" viewBox="0 0 24 24">
      <path d="M12 2l2.2 5.5L20 6l-4.3 3.6L18 15l-6-3.2L6 15l2.3-5.4L4 6l5.8 1.5L12 2z" fill="currentColor"/>
    </symbol>
    <symbol id="i-gas" viewBox="0 0 24 24">
      <rect x="7" y="3" width="10" height="14" rx="2" fill="currentColor"/>
      <rect x="9" y="17" width="6" height="4" rx="1" fill="currentColor"/>
      <rect x="10.5" y="1" width="3" height="3" rx="1" fill="currentColor"/>
    </symbol>
    <symbol id="i-flame" viewBox="0 0 24 24">
      <path d="M12 2s4 4 1 7c0-3-3-3-3-1 0 2 2 2 2 5s-2 4-2 4 7-1 7-7C17 6 12 2 12 2z" fill="currentColor"/>
    </symbol>
    <symbol id="i-flamesolid" viewBox="0 0 24 24">
      <path d="M12 2c2 3 3 4 3 6 0 2-2 3-3 4-1-1-3-2-3-4 0-2 1-3 3-6z" fill="currentColor"/>
      <path d="M8 14c0 3 2 6 4 6s4-3 4-6c0-2-1-3-4-5-3 2-4 3-4 5z" fill="currentColor"/>
    </symbol>
    <symbol id="i-oxidizer" viewBox="0 0 24 24">
      <circle cx="12" cy="9" r="4" fill="currentColor"/>
      <path d="M4 20h16" stroke="currentColor" stroke-width="2"/>
    </symbol>
    <symbol id="i-skull" viewBox="0 0 24 24">
      <circle cx="12" cy="8" r="5" fill="currentColor"/>
      <circle cx="9" cy="8" r="1.5" fill="#0b1020"/>
      <circle cx="15" cy="8" r="1.5" fill="#0b1020"/>
      <rect x="10" y="12" width="4" height="4" rx="1" fill="currentColor"/>
    </symbol>
    <symbol id="i-radiation" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="2" fill="currentColor"/>
      <path d="M11 4h2l1 5h-4l1-5zM4 13l2-1 4 2-2 4-4-2 0-3zM20 13l-2-1-4 2 2 4 4-2 0-3z" fill="currentColor"/>
    </symbol>
    <symbol id="i-corrosive" viewBox="0 0 24 24">
      <path d="M4 16h8" stroke="currentColor" stroke-width="2"/>
      <rect x="3" y="17" width="10" height="3" rx="1.5" fill="currentColor"/>
      <path d="M14 6l4 2M14 9l4 2" stroke="currentColor" stroke-width="2"/>
      <rect x="18" y="10" width="3" height="6" rx="1" fill="currentColor"/>
    </symbol>
    <symbol id="i-misc" viewBox="0 0 24 24">
      <rect x="4" y="4" width="16" height="16" rx="3" fill="currentColor"/>
      <path d="M7 9h10M7 15h10" stroke="#0b1020" stroke-width="2"/>
    </symbol>
    <symbol id="i-copy" viewBox="0 0 24 24">
      <rect x="9" y="9" width="10" height="10" rx="2" stroke="currentColor" fill="none"/>
      <rect x="5" y="5" width="10" height="10" rx="2" stroke="currentColor" fill="none"/>
    </symbol>
    <symbol id="i-search" viewBox="0 0 24 24">
      <circle cx="11" cy="11" r="7" stroke="currentColor" fill="none"/>
      <path d="M16 16l5 5" stroke="currentColor"/>
    </symbol>
  </svg>

  <header>
    <div class="nav">
      <div class="brand">
        <div class="logo" aria-label="KBridge 케이브릿지 주식회사 로고"></div>
        <h1>KBridge · Dangerous Goods</h1>
        <span class="tag">IMDG / IATA 참고용</span>
      </div>
    </div>
  </header>

  <div class="hero container">
    <div class="hero-card">
      <h2>위험물(DG) 한눈에 보기</h2>
      <p>국제 운송 전에 <b>MSDS</b>, 선사/항공사 탑재 조건, <b>포장 지침</b>, <b>라벨·표지</b>를 반드시 확인하세요.</p>
      <div class="badges">
        <span class="badge">Class 1–9 요약</span>
        <span class="badge">UN 번호/이름 빠른 검색</span>
        <span class="badge">라벨/표지 미리보기</span>
      </div>
      <p class="note">※ 실제 적용은 최신 IMDG Code/IATA DGR 및 개별 운송사 정책을 우선합니다.</p>
    </div>

    <div class="hero-card">
      <h2>빠른 시작</h2>
      <ul class="hero-list">
        <li>아래 <b>검색창</b>에 UN 번호 또는 물질명(한/영)을 입력하세요.</li>
        <li><b>클래스 칩</b>을 눌러 해당 클래스만 필터링할 수 있습니다.</li>
        <li>카드를 클릭하면 <b>라벨·포장 그룹·비고</b>가 펼쳐집니다.</li>
      </ul>
      <p class="note">데이터는 샘플입니다. <code class="k">data</code> 배열에 항목을 추가하여 확장하세요.</p>
    </div>
  </div>

  <main class="container">
    <section class="filters" aria-label="검색 및 필터">
      <div class="row">
        <div class="search" role="search">
          <svg aria-hidden="true" width="18" height="18"><use href="#i-search"/></svg>
          <input id="q" placeholder="UN 번호, 한글명, 영어명으로 검색 (예: 1090, 아세톤, Acetone)" autocomplete="off"/>
        </div>
        <div id="classChips" class="row" style="flex:1"></div>
        <div class="count" id="count">0건</div>
      </div>
    </section>

    <section class="section" aria-label="검색 결과">
      <h3>검색/조회 결과</h3>
      <div id="list" class="grid" aria-live="polite"></div>
    </section>

    <section class="section" aria-label="클래스 안내">
      <h3>클래스 안내 · 라벨 미리보기</h3>
      <div id="classGuide" class="classes"></div>
    </section>

    <footer class="container">
      <div>ⓘ 참고: 본 자료는 요약 가이드입니다. 반드시 선/항공사, 포워더와 사전 협의하세요.</div>
    </footer>
  </main>

  <dialog id="modal" class="modal" aria-label="라벨 미리보기">
    <div class="sheet">
      <div style="display:flex;align-items:center;gap:10px">
        <button class="close" onclick="modal.close()">닫기</button>
      </div>
      <h4 id="mTitle">Class</h4>
      <p id="mDesc">-</p>
      <div id="labels" class="labels"></div>
    </div>
  </dialog>

  <script>
    const data = [
      {un:'1090', nameKo:'아세톤', nameEn:'Acetone', cls:3, pg:'II', note:'인화성 액체. 플라스틱/고무에 영향.'},
      {un:'1203', nameKo:'가솔린(휘발유)', nameEn:'Gasoline', cls:3, pg:'II', note:'정전기·증기 폭발 위험.'},
      {un:'1011', nameKo:'부탄', nameEn:'Butane', cls:2, pg:'—', note:'가연성 가스(2.1). 환기 필수.'},
      {un:'1950', nameKo:'에어로졸', nameEn:'Aerosols', cls:2, pg:'—', note:'2.1/2.2/2.3 분류 가능. 내용물 따라 상이.'},
      {un:'1005', nameKo:'암모니아, 무수', nameEn:'Ammonia, anhydrous', cls:2, pg:'—', note:'유독성 가스(2.3). 부식성.'},
      {un:'1789', nameKo:'염산 용액', nameEn:'Hydrochloric acid', cls:8, pg:'II', note:'부식성. 반응성 물질과 접촉 금지.'},
      {un:'1824', nameKo:'수산화나트륨 용액', nameEn:'Sodium hydroxide solution', cls:8, pg:'II', note:'강염기, 금속 부식.'},
      {un:'2014', nameKo:'과산화수소 용액 >20%', nameEn:'Hydrogen peroxide solution', cls:'5.1', pg:'II', note:'산화성 물질. 오염물과 반응.'},
      {un:'1744', nameKo:'브롬', nameEn:'Bromine', cls:8, pg:'I', note:'매우 부식성, 독성 증기.'},
      {un:'2814', nameKo:'감염성 물질, 사람에 유해', nameEn:'Infectious substance, affecting humans', cls:'6.2', pg:'—', note:'특수 포장/표지 요구. 규정 준수 필수.'},
      {un:'3077', nameKo:'환경유해 고체, 기타', nameEn:'Environmentally hazardous substance, solid, n.o.s.', cls:9, pg:'III', note:'해양오염물 가능. 표지 요구.'},
      {un:'3480', nameKo:'리튬이온 배터리', nameEn:'Lithium ion batteries', cls:9, pg:'—', note:'상태별 포장지시·SoC 제한. 화재 위험.'},
      {un:'2915', nameKo:'방사성 물질, Type A', nameEn:'Radioactive material, Type A package', cls:7, pg:'—', note:'방사선 표지/문서 요건.'},
    ];

    const classMeta = [
      { id:1, title:'Class 1 폭발물', icon:'#i-explosion', desc:'충격·마찰·열에 민감. 세부 분류 1.1~1.6.' },
      { id:2, title:'Class 2 가스', icon:'#i-gas', desc:'2.1 가연성 / 2.2 비가연성 / 2.3 유독성.' },
      { id:3, title:'Class 3 인화성 액체', icon:'#i-flame', desc:'낮은 인화점, 증기 착화 위험. 접지·환기.' },
      { id:4, title:'Class 4 인화성 고체', icon:'#i-flamesolid', desc:'4.1 인화성/자연발화/물반응성 포함.' },
      { id:5, title:'Class 5 산화성·유기과산화물', icon:'#i-oxidizer', desc:'5.1 산화성 / 5.2 유기과산화물.' },
      { id:6, title:'Class 6 유독성·감염성', icon:'#i-skull', desc:'6.1 유독성 / 6.2 감염성.' },
      { id:7, title:'Class 7 방사성', icon:'#i-radiation', desc:'방사능 방출. 엄격한 표지·취급.' },
      { id:8, title:'Class 8 부식성', icon:'#i-corrosive', desc:'금속·조직 손상. 누출 주의.' },
      { id:9, title:'Class 9 기타위험', icon:'#i-misc', desc:'리튬배터리·건조얼음 등.' },
    ];

    const elList = document.getElementById('list');
    const elCount = document.getElementById('count');
    const elQ = document.getElementById('q');
    const elChips = document.getElementById('classChips');
    const elGuide = document.getElementById('classGuide');
    const modal = document.getElementById('modal');
    const mTitle = document.getElementById('mTitle');
    const mDesc = document.getElementById('mDesc');
    const mLabels = document.getElementById('labels');

    const activeClasses = new Set();
    function renderChips(){
      elChips.innerHTML = '';
      const all = document.createElement('div');
      all.className = 'pill';
      all.dataset.active = activeClasses.size===0;
      all.textContent = '전체';
      all.onclick = ()=>{ activeClasses.clear(); render(); };
      elChips.appendChild(all);

      classMeta.forEach(cm=>{
        const chip = document.createElement('div');
        chip.className='pill';
        chip.dataset.active = activeClasses.has(String(cm.id));
        chip.innerHTML = `<svg width="16" height="16" style="opacity:.9"><use href="${cm.icon}"/></svg> ${cm.id}`;
        chip.onclick = ()=>{ const id=String(cm.id); activeClasses.has(id) ? activeClasses.delete(id) : activeClasses.add(id); render(); };
        elChips.appendChild(chip);
      });
    }

    function iconFor(cls){
      const c = String(cls).split('.')[0];
      const m = { '1':'#i-explosion', '2':'#i-gas', '3':'#i-flame', '4':'#i-flamesolid', '5':'#i-oxidizer', '6':'#i-skull', '7':'#i-radiation', '8':'#i-corrosive', '9':'#i-misc' };
      return `<svg aria-hidden="true"><use href="${m[c]}"/></svg>`;
    }

    function card(item){
      const card = document.createElement('details');
      card.className='card';
      card.dataset.class = String((item.cls+'').split('.')[0]);
      const colorVar = `var(--c${(item.cls+'').split('.')[0]})`;
      card.innerHTML = `
        <summary class="top" style="list-style:none;cursor:pointer">
          <div class="icon" style="color:${colorVar}">
            ${iconFor(item.cls)}
          </div>
          <div class="meta">
            <div class="un">UN ${item.un} · <span class="tag-sm" style="border-color:${colorVar};color:${colorVar}">Class ${item.cls}</span></div>
            <div class="name">${escapeHtml(item.nameKo)}</div>
            <div class="eng">${escapeHtml(item.nameEn)}</div>
          </div>
          <button class="btn" title="UN 번호 복사" onclick="copyUN('${item.un}'); event.preventDefault(); event.stopPropagation();">
            <svg width="16" height="16" style="opacity:.9"><use href="#i-copy"/></svg>
          </button>
        </summary>
        <div class="detail">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
            <div>
              <div style="font-size:12px;color:var(--muted)">포장 그룹</div>
              <div style="font-weight:700">${item.pg||'—'}</div>
            </div>
            <div>
              <div style="font-size:12px;color:var(--muted)">비고</div>
              <div>${escapeHtml(item.note||'—')}</div>
            </div>
          </div>
          <div style="margin-top:10px;display:flex;gap:10px;align-items:center">
            <div class="diamond" data-class="${String((item.cls+'').split('.')[0])}" title="라벨 예시">
              <div class="num">${item.cls}</div>
            </div>
            <div class="note">라벨은 대표 예시입니다. 실제 표지는 세부 분류/포장지시/운송 모드에 따라 다를 수 있습니다.</div>
          </div>
        </div>
      `;
      return card;
    }

    function render(){
      const q = (elQ.value||'').trim().toLowerCase();
      const filtered = data.filter(d=>{
        const classOk = activeClasses.size===0 || activeClasses.has(String((d.cls+'').split('.')[0]));
        if(!classOk) return false;
        if(!q) return true;
        const hay = `${d.un} ${d.nameKo} ${d.nameEn}`.toLowerCase();
        return hay.includes(q);
      }).sort((a,b)=> a.un.localeCompare(b.un));

      elList.innerHTML = '';
      filtered.forEach(item=> elList.appendChild(card(item)) );
      elCount.textContent = `${filtered.length}건`;
    }

    function renderClassGuide(){
      elGuide.innerHTML = '';
      classMeta.forEach(cm=>{
        const div = document.createElement('div');
        div.className='class-card';
        div.dataset.class = cm.id;
        div.innerHTML = `
          <div style="display:grid;place-items:center">
            <div class="diamond" data-class="${cm.id}"></div>
          </div>
          <div style="display:flex;gap:8px;align-items:center;justify-content:center">
            <svg width="18" height="18" style="color:var(--c${cm.id})"><use href="${cm.icon}"/></svg>
            <div style="font-weight:700;text-align:center">${cm.title}</div>
          </div>
          <div style="font-size:12px;color:var(--muted);text-align:center">${cm.desc}</div>
        `;
        div.onclick = ()=>openClassModal(cm);
        elGuide.appendChild(div);
      });
    }

    function openClassModal(cm){
      mTitle.textContent = cm.title;
      mDesc.textContent = cm.desc + ' · 라벨은 대표 색상/도형 예시입니다.';
      mLabels.innerHTML = '';
      const ex = [
        {title:'대표 라벨', num: cm.id, cls: cm.id},
        {title:'대체 표기 예시', num: cm.id, cls: cm.id},
        {title:'운송 모드 변형', num: cm.id, cls: cm.id},
        {title:'기타(혼재) 표기', num: cm.id, cls: cm.id}
      ];
      ex.forEach(e=>{
        const card = document.createElement('div');
        card.className = 'label-card';
        card.innerHTML = `
          <div class="big-diamond" style="background: var(--c${e.cls})" data-class="${e.cls}">
            <div class="num">${e.num}</div>
          </div>
          <div style="text-align:center;font-weight:700">${e.title}</div>
        `;
        mLabels.appendChild(card);
      });
      modal.showModal();
    }

    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m=> ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[m]) ); }
    function copyUN(un){ navigator.clipboard?.writeText(`UN ${un}`).then(()=> notify(`UN ${un} 복사 완료`)); }
    function notify(msg){
      const n = document.createElement('div');
      n.textContent = msg;
      n.style.cssText = 'position:fixed;left:50%;top:18px;transform:translateX(-50%);background:#fff;border:1px solid #e2e8f0;color:var(--text);padding:8px 12px;border-radius:10px;box-shadow:var(--shadow);z-index:60';
      document.body.appendChild(n);
      setTimeout(()=> n.remove(), 1400);
    }

    renderChips();
    render();
    renderClassGuide();
    elQ.addEventListener('input', render);
  </script>
</body>
</html>
